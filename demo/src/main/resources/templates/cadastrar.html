<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar Imóvel</title>
    <script>
        // Função para mostrar ou esconder os campos baseados no tipo de imóvel
        function mostrarCampos() {
            var tipo = document.getElementById("tipo").value;
            if (tipo === "Casa") {
                document.getElementById("campoQuintal").style.display = "block";
                document.getElementById("campoAndar").style.display = "none";
                document.getElementById("quintal").setAttribute("required", "required");
                document.getElementById("andar").removeAttribute("required");
            } else if (tipo === "Apartamento") {
                document.getElementById("campoAndar").style.display = "block";
                document.getElementById("campoQuintal").style.display = "none";
                document.getElementById("andar").setAttribute("required", "required");
                document.getElementById("quintal").removeAttribute("required");
            } else {
                document.getElementById("campoQuintal").style.display = "none";
                document.getElementById("campoAndar").style.display = "none";
                document.getElementById("quintal").removeAttribute("required");
                document.getElementById("andar").removeAttribute("required");
            }
        }
    </script>
</head>
<body onload="mostrarCampos()"> <!-- Garante que a lógica seja aplicada ao carregar a página -->
<h1>Cadastrar Imóvel</h1>

<form action="/imoveis/cadastrar" method="post">
    <label for="descricao">Descrição:</label>
    <input type="text" id="descricao" name="descricao" required><br><br>

    <label for="tipo">Tipo de Imóvel:</label>
    <select id="tipo" name="tipo" required onchange="mostrarCampos()">
        <option value="">Selecione</option>
        <option value="Casa">Casa</option>
        <option value="Apartamento">Apartamento</option>
    </select><br><br>

    <!-- Campo para 'Casa' -->
    <div id="campoQuintal" style="display:none;">
        <label for="quintal">Possui Quintal:</label>
        <select id="quintal" name="quintal">
            <option value="true">Sim</option>
            <option value="false">Não</option>
        </select><br><br>
    </div>

    <!-- Campo para 'Apartamento' -->
    <div id="campoAndar" style="display:none;">
        <label for="andar">Andar:</label>
        <input type="number" id="andar" name="andar" min="0"><br><br>
    </div>

    <label for="corretorEmail">Corretor (Email):</label>
    <input type="email" id="corretorEmail" name="corretorEmail" required><br><br>

    <button type="submit">Cadastrar</button>
</form>

<br>
<a href="/imoveis">Voltar à lista de imóveis</a>
</body>
</html>
